(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,a){e.exports=a(378)},201:function(e,t){},213:function(e,t){},215:function(e,t){},377:function(e,t,a){},378:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(165),o=a.n(r),c=a(4),s=a(5),l=a(7),u=a(6),m=a(8),d=a(58),h=a.n(d),p=a(59),f=a.n(p),v=a(1),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).searchAnimation=function(){var e=document.getElementById("icon"),t=document.getElementById("clear-icon"),a=document.querySelector(".arrow-container"),n=v.a.timeline();n.to(e,.1,{className:"-= fas fa-search"}).to(e,4,{className:"+= fas fa-spinner spin-animation"}).to(e,.5,{opacity:0,visibility:"hidden"}).to(t,.5,{opacity:1,visibility:"visible"}),window.innerWidth<680&&n.to(a,.5,{visibility:"visible",opacity:1})},a.handleClick=function(e){a.searchAnimation(),a.props.search(e)},a.clearSearch=function(){var e=document.getElementById("icon"),t=document.getElementById("clear-icon"),n=document.querySelector(".arrow-container"),i=v.a.timeline();i.to(t,.1,{opacity:0,visibility:"hidden"}).to(e,.1,{opacity:1,visibility:"visible",className:"-= fas fa-search "}),window.innerWidth<680&&i.to(n,.5,{visibility:"hidden",opacity:0}),a.props.clear()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fas fa-search",id:"icon",onClick:this.handleClick,onMouseOver:this.props.animate,onMouseOut:this.props.reset}),i.a.createElement("i",{className:"fas fa-times",id:"clear-icon",onClick:this.clearSearch}))}}]),t}(i.a.Component),b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={searchTerm:""},a.onChange=function(e){a.setState({searchTerm:e.target.value})},a.onFormSubmit=function(e){e.preventDefault(),a.props.onTermSubmit(a.state.searchTerm)},a.animateIcon=function(){var e=document.getElementById("icon");v.a.to(e,.5,{backgroundColor:"#bdf2d5"})},a.resetIcon=function(){var e=document.getElementById("icon");v.a.to(e,.5,{backgroundColor:"#f6f6f6"})},a.clearSearch=function(){a.setState({searchTerm:""}),a.props.handleReload()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("form",{onSubmit:this.onFormSubmit},i.a.createElement("input",{type:"text",className:"input-text",placeholder:"enter an english word...",name:"searchTerm",value:this.state.searchTerm,onChange:this.onChange,onFocus:this.animateIcon,onBlur:this.resetIcon,id:"search-form"}),i.a.createElement(y,{search:this.onFormSubmit,clear:this.clearSearch,animate:this.animateIcon,reset:this.resetIcon}))}}]),t}(i.a.Component),w=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={viewLink:!1},a.showLink=function(){a.setState({viewLink:!0});var e=document.getElementById("".concat(a.props.name));v.a.to(e,.5,{visibility:"visible",opacity:1,y:5})},a.hideLink=function(){var e=document.getElementById("".concat(a.props.name));v.a.to(e,.5,{visibility:"hidden",opacity:0,y:-5}),a.setState({viewLink:!1})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.appear()}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.text,n=e.url;return i.a.createElement("div",{className:"result-column",onMouseOver:this.showLink,onMouseOut:this.hideLink},i.a.createElement("div",{className:"result"},i.a.createElement("div",{className:"result-header"},t),i.a.createElement("div",{className:"result-text"},i.a.createElement("ul",null,a.map(function(e,t){return i.a.createElement("li",{key:t},e)})))),this.state.viewLink?i.a.createElement("div",{className:"view-link",id:"".concat(t)},i.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},"see all translations")):i.a.createElement("div",{className:"view-link",style:{visibility:"hidden"},id:"".concat(t)},i.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},"see all translations")))}}]),t}(i.a.Component),g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={weblioResult:[],infoseekResult:[],eijiroResult:[]},a.toggleOnResize=function(){var e=document.querySelector(".results-grid");window.innerWidth>650&&v.a.to(e,.5,{visibility:"visible",opacity:1})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.weblio){var t=e.weblio.split("\u4e3b\u306a\u610f\u5473").toString().split("\u3001");this.setState({weblioResult:t})}if(e.infoseek){var a=e.infoseek.split("\u4eca\u65e5\u306e\u30ad\u30fc\u30ef\u30fc\u30c9")[0].split("\uff1b");this.setState({infoseekResult:a})}if(e.eijiro){var n=e.eijiro.split("<a")[0].split("\u3010\u30ec\u30d9\u30eb\u3011")[0].split("\u3001");this.setState({eijiroResult:n})}}},{key:"componentWillMount",value:function(){console.log("mounting results component");var e=document.querySelectorAll(".results-grid");v.a.to(e,.5,{opacity:1,y:-5})}},{key:"render",value:function(){var e,t,a,n=this,r=this.props,o=r.term,c=r.showResults;return this.state.weblioResult.length>=1&&(e=i.a.createElement(w,{name:"weblio",url:"https://ejje.weblio.jp/content/".concat(o),text:this.state.weblioResult,appear:c})),this.state.infoseekResult.length>=1&&(t=i.a.createElement(w,{name:"infoseek",url:"http://dictionary.infoseek.ne.jp/ejword/".concat(o),text:this.state.infoseekResult,appear:c})),this.state.eijiroResult.length>=1&&(a=i.a.createElement(w,{name:"eijiro",url:"https://eow.alc.co.jp/search?q=".concat(o,"&ref=sa"),text:this.state.eijiroResult,appear:c})),window.addEventListener("resize",function(){n.toggleOnResize()},!1),i.a.createElement("div",{className:"results-grid"},e,t,a)}}]),t}(i.a.Component),j=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".no-results");v.a.to(e,.5,{opacity:1,y:-5})}},{key:"render",value:function(){return i.a.createElement("div",{className:"no-results"},"No results found!")}}]),t}(i.a.Component),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={arrow:"down"},a.toggleDisplay=function(){var e=document.querySelector(".arrow-container");window.innerWidth>650?v.a.to(e,.5,{visibility:"hidden",opacity:0}):v.a.to(e,.5,{visibility:"visible",opacity:1})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(!0===e.display&&window.innerWidth<650){var t=document.querySelector(".arrow-container");v.a.to(t,.5,{visibility:"visible",opacity:1})}}},{key:"render",value:function(){var e=this;return window.addEventListener("resize",function(){e.toggleDisplay()},!1),i.a.createElement("div",{className:"arrow-container",onMouseOver:function(){var e=document.getElementById("arrow");v.a.to(e,.5,{backgroundColor:"#bdf2d5"})},onMouseOut:function(){var e=document.getElementById("arrow");v.a.to(e,.5,{backgroundColor:"#f6f6f6"})}},"down"===this.state.arrow?i.a.createElement("div",null,i.a.createElement("i",{className:"fas fa-chevron-down",id:"arrow",onClick:function(){var t=document.querySelector(".results-grid");t.scrollIntoView({behavior:"smooth"}),v.a.to(t,.5,{opacity:1}),e.setState({arrow:"up"})}}),i.a.createElement("div",{className:"arrow-text"},"view results")):i.a.createElement("div",null,i.a.createElement("i",{className:"fas fa-chevron-up",id:"arrow",onClick:function(){document.querySelector(".container").scrollIntoView({behavior:"smooth"});var t=document.querySelector(".results-grid");v.a.to(t,.5,{opacity:0}),e.setState({arrow:"down"})}}),i.a.createElement("div",{className:"arrow-text"},"return to search")))}}]),t}(i.a.Component),E=(a(377),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={weblio:"",infoseek:"",eijiro:"",term:"",renderChild:"results",failed:!1},a.onTermSubmit=function(e){a.setState({term:e}),h.a.get("https://cors-anywhere.herokuapp.com/https://ejje.weblio.jp/content/".concat(e)).then(function(t){var n=f.a.load(t.data)(".content-explanation.ej").text();return a.setState({weblio:n}),h.a.get("https://cors-anywhere.herokuapp.com/http://dictionary.infoseek.ne.jp/ejword/".concat(e)).then(function(t){var n=f.a.load(t.data)(".word_block").children().slice(2,11).text();return a.setState({infoseek:n,renderChild:!0}),h.a.get("https://cors-anywhere.herokuapp.com/https://eow.alc.co.jp/search?q=".concat(e,"&ref=sa")).then(function(e){var t=f.a.load(e.data)("ul li div ul li, #resultsList").children().slice(2,4).text();a.setState({eijiro:t})})})}).catch(function(e){a.setState({failed:!0,renderChild:!0}),console.log("failed search",a.state.failed)})},a.handleReload=function(){var e=document.querySelectorAll(".result")[0],t=document.querySelectorAll(".result")[1],n=document.querySelectorAll(".result")[2],i=document.querySelector(".no-results");v.a.timeline().to(e,.25,{opacity:0,y:5}).to(t,.25,{opacity:0,y:5}).to(n,.25,{opacity:0,y:5}).to(i,.25,{opacity:0,y:5}),setTimeout(function(){a.setState({weblio:"",infoseek:"",eijiro:"",term:"",renderChild:!a.state.renderChild,failed:!1})},1e3)},a.resultAnimation=function(){var e=document.querySelectorAll(".result");v.a.to(e,.5,{opacity:1,y:-5})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"header-text"},i.a.createElement("div",{className:"header-maintext"},"JDictSearch"),i.a.createElement("div",{className:"header-subtext"},"english-japanese dictionary search aggregator"))),i.a.createElement("div",{className:"row"},i.a.createElement(b,{onTermSubmit:this.onTermSubmit,handleReload:this.handleReload}),!0===this.state.renderChild&&!1===this.state.failed?i.a.createElement(i.a.Fragment,null,i.a.createElement(k,{display:!0}),i.a.createElement(g,{weblio:this.state.weblio,infoseek:this.state.infoseek,eijiro:this.state.eijiro,term:this.state.term,showResults:this.resultAnimation})):!0===this.state.renderChild&&!0===this.state.failed?i.a.createElement(j,null):i.a.createElement(i.a.Fragment,null)))}}]),t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[166,1,2]]]);
//# sourceMappingURL=main.3c59cf8c.chunk.js.map